query toVec($input: String!) {
  result: callNLU(input: $input) {
    ...EntityResultFields
    sentences {
      ...EntitySubtree
    }
    noun_chunks {
      ...EntitySubtree
    }
    entities {
      ...EntitySubtree
    }
  }
}

fragment EntityResultFields on NLUResult {
  has_vector
  vector
  vector_norm
}

fragment EntityFields on NLUSpan {
  has_vector
  vector
  vector_norm
}

fragment EntitySubtree on NLUSpan {
  ...EntityFields
  entities {
    ...EntityFields
    entities {
      ...EntityFields
      entities {
        ...EntityFields
        entities {
          ...EntityFields
        }
      }
    }
  }
}
